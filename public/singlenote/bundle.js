!function(n){function t(c){if(i[c])return i[c].exports;var o=i[c]={exports:{},id:c,loaded:!1};return n[c].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=n,t.c=i,t.p="/",t(0)}({0:function(n,t,i){"use strict";function c(n){return n&&n.__esModule?n:{default:n}}var o=i(175),e=(c(o),i(176)),s={addtime:"",ctx:"",flag:!1,clickUpX:"",clickUpY:"",clickDownX:"",clickDownY:"",init:function(n,t){var i=this;this.listen_creat(n,t),this.listen_pencil(),e("#close").click(function(){i.close_and_clean()}),e("#window_add").click(function(){i.close_and_clean();var n=(document.getElementById("content_jq"),e("<div class='addnewBulb' data-comment='評論' data-bulbid='"+i.addtime+"'></div>"));e("#content_jq").append(n),n.css({"z-index":1e3,left:i.clickDownX+3,top:i.clickDownY-10,click:i.showclickdialog(),hover:i.showhoverdialog()})})},listen_creat:function(n,t){var i=this;e("#"+n).click(function(){i.addCanvas(t)})},addCanvas:function(n){var t=(new Date).getTime();this.addtime=t;var i=this,c=e("<canvas id='"+t+"' class='canvasSize'></canvas>");e("#"+n).append(c);var o=e("#"+n)[0],s=e("#"+t);s.bind("mousedown",function(n){i.onMouseDown(n)}),s.bind("mousemove",function(n){i.onMouseMove(n)}),s.bind("mouseup",function(n){i.onMouseUp(n)}),s[0].width=o.offsetWidth,s[0].height=o.offsetHeight,this.ctx=s[0].getContext("2d"),this.ctx.lineWidth=3,this.ctx.strokeStyle="#FC2222"},onMouseDown:function(n){n.preventDefault(),this.ctx.beginPath();var t=this.pos(n);this.clickDownX=t.x,this.clickDownY=t.y,this.ctx.moveTo(t.x,t.y),this.flag=!0},onMouseMove:function(n){if(n.preventDefault(),this.flag){var t=this.pos(n);this.ctx.lineTo(t.x,t.y),this.ctx.lineWidth=.5,this.ctx.shadowBlur=1,this.ctx.stroke()}},onMouseUp:function(n){n.preventDefault(),this.flag=!1;var t=this.pos(n);this.clickUpX=t.x,this.clickUpY=t.y,this.clickDownX==this.clickUpX&&this.clickDownY==this.clickUpY||this.showPencil(n)},pos:function(n){var t,i;return t=n.offsetX,i=n.offsetY,{x:t,y:i}},showPencil:function(n){console.log(n);var t=n.offsetX,i=n.offsetY;e("#pencilIcon").css({width:25,height:25,left:t-20,top:i-20,display:"block"}).fadeIn(300)},listen_pencil:function(){e("#pencilIcon").click(function(){e("#comment_window").css({display:"block"})})},close_and_clean:function(){e("canvas[id="+this.addtime+"]").css({display:"none"}),e("#pencilIcon").css({display:"none"}),e("#comment_window").css({display:"none"})},showclickdialog:function(){},showhoverdialog:function(){}};s.init("add_comment","content_jq")},175:function(n,t){},176:function(n,t){n.exports=window.$}});